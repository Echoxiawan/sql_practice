USE retail_analytics;

-- 插入订单数据
INSERT INTO orders (user_id, order_date, required_date, shipped_date, status, shipping_fee, payment_method) VALUES
(1, '2023-01-05 10:30:00', '2023-01-08', '2023-01-07', '已完成', 15.00, '支付宝'),
(2, '2023-01-08 14:20:00', '2023-01-11', '2023-01-10', '已完成', 15.00, '微信'),
(3, '2023-01-10 16:45:00', '2023-01-13', '2023-01-12', '已完成', 0.00, '支付宝'),
(4, '2023-01-15 09:10:00', '2023-01-18', '2023-01-17', '已完成', 15.00, '银行卡'),
(5, '2023-01-20 11:25:00', '2023-01-23', '2023-01-22', '已完成', 15.00, '支付宝'),
(1, '2023-02-05 13:40:00', '2023-02-08', '2023-02-07', '已完成', 0.00, '微信'),
(2, '2023-02-10 15:55:00', '2023-02-13', '2023-02-12', '已完成', 15.00, '支付宝'),
(3, '2023-02-15 17:30:00', '2023-02-18', '2023-02-17', '已完成', 15.00, '微信'),
(4, '2023-02-20 10:15:00', '2023-02-23', '2023-02-22', '已完成', 15.00, '银行卡'),
(5, '2023-02-25 12:20:00', '2023-02-28', '2023-02-27', '已完成', 0.00, '支付宝'),
(6, '2023-03-01 14:35:00', '2023-03-04', '2023-03-03', '已完成', 15.00, '微信'),
(7, '2023-03-05 16:50:00', '2023-03-08', '2023-03-07', '已完成', 15.00, '支付宝'),
(8, '2023-03-10 09:45:00', '2023-03-13', '2023-03-12', '已完成', 15.00, '银行卡'),
(9, '2023-03-15 11:30:00', '2023-03-18', '2023-03-17', '已完成', 0.00, '支付宝'),
(10, '2023-03-20 13:55:00', '2023-03-23', '2023-03-22', '已完成', 15.00, '微信'),
(1, '2023-04-01 15:20:00', '2023-04-04', '2023-04-03', '已完成', 15.00, '支付宝'),
(2, '2023-04-05 17:15:00', '2023-04-08', '2023-04-07', '已完成', 15.00, '银行卡'),
(3, '2023-04-10 10:40:00', '2023-04-13', '2023-04-12', '已完成', 0.00, '支付宝'),
(4, '2023-04-15 12:25:00', '2023-04-18', '2023-04-17', '已完成', 15.00, '微信'),
(5, '2023-04-20 14:30:00', '2023-04-23', '2023-04-22', '已完成', 15.00, '支付宝'),
(6, '2023-05-01 16:15:00', '2023-05-04', '2023-05-03', '已完成', 15.00, '银行卡'),
(7, '2023-05-05 09:20:00', '2023-05-08', '2023-05-07', '已完成', 0.00, '支付宝'),
(8, '2023-05-10 11:35:00', '2023-05-13', '2023-05-12', '已完成', 15.00, '微信'),
(9, '2023-05-15 13:50:00', '2023-05-18', '2023-05-17', '已完成', 15.00, '支付宝'),
(10, '2023-05-18 15:05:00', '2023-05-21', NULL, '配送中', 15.00, '银行卡'),
(11, '2023-05-20 08:45:00', '2023-05-23', NULL, '已支付', 0.00, '支付宝'),
(12, '2023-05-22 10:30:00', '2023-05-25', NULL, '已支付', 15.00, '微信'),
(13, '2023-05-23 13:15:00', '2023-05-26', NULL, '待支付', 15.00, '支付宝'),
(14, '2023-05-24 15:40:00', '2023-05-27', NULL, '待支付', 15.00, '银行卡'),
(15, '2023-05-25 17:55:00', '2023-05-28', NULL, '待支付', 0.00, '支付宝');

-- 插入订单明细数据 (部分示例)
INSERT INTO order_items (order_id, product_id, quantity, unit_price, discount) VALUES
(1, 1, 1, 5999.00, 0.00),
(1, 11, 1, 1999.00, 0.00),
(2, 6, 1, 12999.00, 0.05),
(3, 21, 2, 299.00, 0.00),
(3, 22, 3, 189.00, 0.10),
(4, 31, 1, 1299.00, 0.00),
(4, 32, 1, 699.00, 0.00),
(5, 41, 5, 9.90, 0.00),
(5, 46, 10, 2.90, 0.00),
(6, 2, 1, 4999.00, 0.00),
(7, 7, 1, 8999.00, 0.05),
(8, 23, 2, 289.00, 0.00),
(8, 24, 1, 599.00, 0.10),
(9, 33, 2, 599.00, 0.00),
(10, 42, 3, 19.90, 0.00),
(10, 47, 5, 4.90, 0.00),
(11, 3, 1, 3999.00, 0.00),
(12, 8, 1, 9999.00, 0.05),
(13, 25, 2, 329.00, 0.00),
(14, 34, 1, 399.00, 0.00),
(15, 43, 4, 14.90, 0.00),
(15, 48, 3, 6.90, 0.00),
(16, 4, 1, 4499.00, 0.00),
(17, 9, 1, 10999.00, 0.05),
(18, 26, 3, 129.00, 0.00),
(18, 27, 2, 189.00, 0.10),
(19, 35, 1, 699.00, 0.00),
(20, 44, 5, 12.90, 0.00),
(20, 49, 4, 5.90, 0.00),
(21, 5, 1, 3799.00, 0.00),
(22, 10, 1, 9599.00, 0.05),
(23, 28, 2, 219.00, 0.00),
(24, 36, 2, 199.00, 0.00),
(25, 45, 3, 29.90, 0.00),
(25, 50, 5, 8.90, 0.00);

-- 插入销售数据
INSERT INTO sales (employee_id, order_id, sale_date, commission) VALUES
(7, 1, '2023-01-07', 399.90),
(8, 2, '2023-01-10', 649.95),
(7, 3, '2023-01-12', 149.50),
(8, 4, '2023-01-17', 199.80),
(7, 5, '2023-01-22', 29.70),
(8, 6, '2023-02-07', 249.95),
(7, 7, '2023-02-12', 449.95),
(8, 8, '2023-02-17', 144.45),
(7, 9, '2023-02-22', 119.80),
(8, 10, '2023-02-27', 59.75),
(7, 11, '2023-03-03', 189.95),
(8, 12, '2023-03-07', 199.95),
(7, 13, '2023-03-12', 499.95),
(8, 14, '2023-03-17', 149.70),
(7, 15, '2023-03-22', 29.90),
(8, 16, '2023-04-03', 224.95),
(7, 17, '2023-04-07', 549.95),
(8, 18, '2023-04-12', 67.85),
(7, 19, '2023-04-17', 69.90),
(8, 20, '2023-04-22', 38.70),
(7, 21, '2023-05-03', 189.95),
(8, 22, '2023-05-07', 39.60),
(7, 23, '2023-05-12', 109.50),
(8, 24, '2023-05-17', 99.50);

-- 插入促销活动数据
INSERT INTO promotions (promotion_name, description, discount_type, discount_value, start_date, end_date, min_purchase, is_active) VALUES
('新年特惠', '新年期间全场特惠活动', '百分比', 10.00, '2023-01-01', '2023-01-15', 1000.00, FALSE),
('情人节促销', '情人节期间指定商品优惠', '固定金额', 200.00, '2023-02-07', '2023-02-14', 1500.00, FALSE),
('春季大促', '春季全场大促销活动', '百分比', 15.00, '2023-03-01', '2023-03-31', 500.00, FALSE),
('五一劳动节', '五一劳动节期间优惠活动', '固定金额', 300.00, '2023-04-28', '2023-05-05', 2000.00, FALSE),
('618预热', '618购物节预热活动', '百分比', 20.00, '2023-06-01', '2023-06-10', 800.00, TRUE),
('618大促', '618购物节全场大促销', '百分比', 25.00, '2023-06-11', '2023-06-20', 500.00, TRUE),
('暑期特惠', '暑期指定商品特惠', '固定金额', 400.00, '2023-07-01', '2023-08-31', 1500.00, TRUE),
('返校季', '返校季学生特惠', '百分比', 15.00, '2023-08-15', '2023-09-15', 1000.00, TRUE),
('国庆大促', '国庆期间全场大促销', '百分比', 20.00, '2023-09-25', '2023-10-10', 800.00, TRUE),
('双11预售', '双11全球购物节预售活动', '百分比', 30.00, '2023-10-20', '2023-11-10', 500.00, TRUE);

-- 插入产品促销关联数据
INSERT INTO product_promotions (product_id, promotion_id) VALUES
(1, 1), (2, 1), (3, 1), (4, 1), (5, 1),
(6, 2), (21, 2), (22, 2), (23, 2), (24, 2),
(1, 3), (2, 3), (3, 3), (4, 3), (5, 3), (6, 3), (7, 3), (8, 3), (9, 3), (10, 3),
(11, 4), (12, 4), (13, 4), (14, 4), (15, 4), (16, 4), (17, 4), (18, 4), (19, 4), (20, 4),
(1, 5), (2, 5), (3, 5), (4, 5), (5, 5), (6, 5), (7, 5), (8, 5), (9, 5), (10, 5),
(1, 6), (2, 6), (3, 6), (4, 6), (5, 6), (6, 6), (7, 6), (8, 6), (9, 6), (10, 6),
(21, 6), (22, 6), (23, 6), (24, 6), (25, 6), (26, 6), (27, 6), (28, 6), (29, 6), (30, 6),
(31, 7), (32, 7), (33, 7), (34, 7), (35, 7), (36, 7), (37, 7), (38, 7), (39, 7), (40, 7),
(51, 8), (52, 8), (53, 8), (54, 8), (55, 8), (56, 8), (57, 8), (58, 8), (59, 8),
(1, 9), (2, 9), (3, 9), (4, 9), (5, 9), (6, 9), (7, 9), (8, 9), (9, 9), (10, 9),
(11, 9), (12, 9), (13, 9), (14, 9), (15, 9), (16, 9), (17, 9), (18, 9), (19, 9), (20, 9),
(1, 10), (2, 10), (3, 10), (4, 10), (5, 10), (6, 10), (7, 10), (8, 10), (9, 10), (10, 10),
(21, 10), (22, 10), (23, 10), (24, 10), (25, 10), (26, 10), (27, 10), (28, 10), (29, 10), (30, 10),
(31, 10), (32, 10), (33, 10), (34, 10), (35, 10), (36, 10), (37, 10), (38, 10), (39, 10), (40, 10);

-- 插入客户评价数据
INSERT INTO reviews (product_id, user_id, rating, comment, review_date) VALUES
(1, 1, 5, '非常好用的手机，速度快，外观设计也很精美！', '2023-01-10 14:30:00'),
(1, 3, 4, '总体来说不错，就是电池续航一般。', '2023-01-12 10:15:00'),
(1, 5, 5, '非常满意这次购买，质量和描述完全一致。', '2023-01-15 16:45:00'),
(2, 2, 5, '华为手机一如既往的好用，拍照功能特别棒！', '2023-01-15 11:20:00'),
(2, 4, 4, '系统流畅，就是价格有点贵。', '2023-01-18 15:30:00'),
(3, 3, 5, '小米手机性价比极高，功能齐全。', '2023-01-18 09:50:00'),
(3, 5, 4, '还不错，就是有时候会有点卡顿。', '2023-01-20 14:25:00'),
(6, 1, 5, 'MacBook Pro性能强劲，做设计工作特别流畅。', '2023-02-12 13:40:00'),
(6, 2, 4, '电脑很好，就是有点重，不太方便携带。', '2023-02-15 10:35:00'),
(7, 3, 5, 'ThinkPad质量一如既往的可靠，键盘手感极佳。', '2023-02-18 16:20:00'),
(11, 4, 5, 'AirPods Pro音质很好，降噪功能也很棒。', '2023-03-08 11:15:00'),
(11, 5, 4, '耳机不错，就是有时候连接会断一下。', '2023-03-10 15:50:00'),
(16, 1, 4, 'T恤质量不错，就是尺码有点偏大。', '2023-03-15 09:30:00'),
(21, 2, 5, '连衣裙非常漂亮，穿上很显气质。', '2023-03-20 14:40:00'),
(26, 3, 5, '孩子很喜欢这件T恤，质量也很好。', '2023-04-05 10:25:00'),
(31, 4, 4, '锅具质量不错，就是有点重。', '2023-04-10 15:35:00'),
(36, 5, 5, '被子非常柔软舒适，很满意这次购买。', '2023-04-15 11:20:00'),
(41, 1, 5, '薯片很好吃，包装也很结实，没有碎片。', '2023-04-25 16:15:00'),
(46, 2, 4, '矿泉水味道纯正，瓶子设计也很方便携带。', '2023-05-05 09:45:00'),
(51, 3, 5, '小说内容很精彩，一口气读完了。', '2023-05-10 14:30:00');

-- 插入退货数据
INSERT INTO returns (order_id, return_date, reason, status, refund_amount) VALUES
(5, '2023-01-25', '收到的商品有损坏', '已完成', 49.50),
(8, '2023-02-20', '商品尺寸不合适', '已完成', 289.00),
(13, '2023-03-15', '对商品不满意', '已完成', 9999.00),
(17, '2023-04-10', '收到的商品与描述不符', '已完成', 10999.00),
(20, '2023-04-25', '商品质量问题', '已完成', 64.50);

-- 插入退货明细数据
INSERT INTO return_items (return_id, product_id, quantity) VALUES
(1, 41, 5),
(2, 23, 1),
(3, 8, 1),
(4, 9, 1),
(5, 44, 5);

-- 插入财务交易数据
INSERT INTO financial_transactions (order_id, return_id, transaction_type, amount, transaction_date, description) VALUES
(1, NULL, '收入', 7998.00, '2023-01-05 10:35:00', '订单收入'),
(2, NULL, '收入', 12364.05, '2023-01-08 14:25:00', '订单收入'),
(3, NULL, '收入', 1164.70, '2023-01-10 16:50:00', '订单收入'),
(4, NULL, '收入', 1998.00, '2023-01-15 09:15:00', '订单收入'),
(5, NULL, '收入', 78.50, '2023-01-20 11:30:00', '订单收入'),
(NULL, 1, '退款', 49.50, '2023-01-25 13:45:00', '退货退款'),
(6, NULL, '收入', 4999.00, '2023-02-05 13:45:00', '订单收入'),
(7, NULL, '收入', 8564.05, '2023-02-10 16:00:00', '订单收入'),
(8, NULL, '收入', 1117.10, '2023-02-15 17:35:00', '订单收入'),
(NULL, 2, '退款', 289.00, '2023-02-20 10:20:00', '退货退款'),
(9, NULL, '收入', 1198.00, '2023-02-20 10:20:00', '订单收入'),
(10, NULL, '收入', 84.20, '2023-02-25 12:25:00', '订单收入'),
(11, NULL, '收入', 3999.00, '2023-03-01 14:40:00', '订单收入'),
(12, NULL, '收入', 9514.05, '2023-03-05 16:55:00', '订单收入'),
(13, NULL, '收入', 9999.00, '2023-03-10 09:50:00', '订单收入'),
(NULL, 3, '退款', 9999.00, '2023-03-15 11:35:00', '退货退款'),
(14, NULL, '收入', 1198.00, '2023-03-15 11:35:00', '订单收入'),
(15, NULL, '收入', 104.50, '2023-03-20 14:00:00', '订单收入');

-- 插入用户活动日志数据
INSERT INTO user_activity_logs (user_id, activity_type, activity_details, ip_address, user_agent, created_at) VALUES
(1, '登录', '用户登录成功', '192.168.1.100', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-05 10:25:00'),
(1, '浏览产品', '浏览产品ID: 1', '192.168.1.100', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-05 10:28:00'),
(1, '添加购物车', '将产品ID: 1 添加到购物车', '192.168.1.100', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-05 10:29:00'),
(1, '下单', '创建订单ID: 1', '192.168.1.100', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-05 10:30:00'),
(1, '支付', '完成订单ID: 1 的支付', '192.168.1.100', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-05 10:32:00'),
(2, '登录', '用户登录成功', '192.168.1.101', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)', '2023-01-08 14:15:00'),
(2, '浏览产品', '浏览产品ID: 6', '192.168.1.101', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)', '2023-01-08 14:18:00'),
(2, '添加购物车', '将产品ID: 6 添加到购物车', '192.168.1.101', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)', '2023-01-08 14:19:00'),
(2, '下单', '创建订单ID: 2', '192.168.1.101', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)', '2023-01-08 14:20:00'),
(2, '支付', '完成订单ID: 2 的支付', '192.168.1.101', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)', '2023-01-08 14:22:00'),
(3, '登录', '用户登录成功', '192.168.1.102', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', '2023-01-10 16:40:00'),
(3, '搜索', '搜索关键词: "连衣裙"', '192.168.1.102', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', '2023-01-10 16:42:00'),
(3, '浏览产品', '浏览产品ID: 21', '192.168.1.102', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', '2023-01-10 16:43:00'),
(3, '添加购物车', '将产品ID: 21, 22 添加到购物车', '192.168.1.102', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', '2023-01-10 16:44:00'),
(3, '下单', '创建订单ID: 3', '192.168.1.102', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', '2023-01-10 16:45:00'),
(3, '支付', '完成订单ID: 3 的支付', '192.168.1.102', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', '2023-01-10 16:47:00'),
(4, '登录', '用户登录成功', '192.168.1.103', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-15 09:00:00'),
(4, '浏览产品', '浏览产品ID: 31', '192.168.1.103', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-15 09:03:00'),
(4, '添加购物车', '将产品ID: 31, 32 添加到购物车', '192.168.1.103', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-15 09:05:00'),
(4, '下单', '创建订单ID: 4', '192.168.1.103', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-15 09:10:00'),
(4, '支付', '完成订单ID: 4 的支付', '192.168.1.103', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', '2023-01-15 09:12:00'); 